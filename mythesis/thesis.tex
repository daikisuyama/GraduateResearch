%必要事項(全体)
%内容の改善
%図の改善
%現在形と過去形のチェック
%表現の統一
%改ページのチェック

%文字の大きさ、紙の大きさ、ドライバ、エンジン、文書クラス
\documentclass[10pt,a4paper,dvipdfmx,uplatex]{jsreport}

%ページ番号の出力
\pagestyle{plain}

%画像
\usepackage{graphicx}
%位置指定
\usepackage{float}
%ハイパーリンク
\usepackage{hyperref}
%数式
\usepackage{amsmath,amssymb}
%アルゴリズム
\usepackage{algpseudocode,algorithm2e}
%文字色
\usepackage{color}
%コメントアウト
\usepackage{comment}
%かっこいい表
\usepackage{booktabs}
%タイトルの調整
\usepackage{titlesec}
%括弧の設定
\usepackage{interval}
%IfAppendix
\usepackage{apptools}
%参照の変更
\usepackage{prettyref}
%目次の設定
\usepackage{tocloft}
\usepackage{etoolbox}

%タイトルの番号付けの設定
\setcounter{secnumdepth}{3}

%各種タイトルの設定
\titleformat{\chapter}[hang]{\Huge\bfseries}{\IfAppendix{\appendixname\Alph{chapter}}{第\thechapter~章}}{1zw}{}{}
\titlespacing*{\chapter}{0pt}{0pt}{50pt}
\titleformat*{\section}{\LARGE\bfseries}
\titlespacing{\section}{0pt}{20pt}{15pt}
\titleformat*{\subsection}{\Large\bfseries}
\titlespacing{\subsection}{0pt}{15pt}{10pt}
\titleformat*{\subsubsection}{\large\bfseries}
\titlespacing{\subsubsection}{0pt}{10pt}{6pt}

%目次の設定
\renewcommand{\cfttoctitlefont}{\Huge\bfseries}
\renewcommand{\cftchapfont}{\normalsize\bfseries}
\renewcommand{\cftchapnumwidth}{4em}
\renewcommand{\cftchapleader}{\cftdotfill{\cftchapdotsep}}
\renewcommand{\cftchapdotsep}{\cftdotsep}

%図目次の設定
\renewcommand{\cftloftitlefont}{\Huge\bfseries}
\renewcommand{\cftfigpresnum}{図~}
\renewcommand{\cftfignumwidth}{4em}
%図目次にchapterを加える
\preto\figure{
  \ifnum\value{figure}=0\addtocontents{lof}{\normalsize\bfseries {\IfAppendix{\appendixname\Alph{chapter}}{第\thechapter~章}}\vskip10pt}\fi
}

%開き括弧の設定
\intervalconfig{soft open fences}

%アルゴリズムのコマンドの作成
\algnewcommand{\Init}[1]{
  \textbf{Initialization:}
  \hspace*{\algorithmicindent}\parbox[t]{0.9\columnwidth}{\raggedright #1}
}
\algnewcommand{\Proc}[1]{
  \textbf{Procedure:}
  \hspace*{\algorithmicindent}\parbox[t]{0.9\columnwidth}{\raggedright #1}
}

%align用の箱の作成
\newlength{\alignwidth}
% #1：左側のテキスト、#2：右側のテキスト
\newcommand{\algalign}[2]{\makebox[\alignwidth][l]{#1}~#2}

%参照の変更(prettyref)
\newrefformat{sec}{\ref{#1}節}
\newrefformat{fig}{図\ref{#1}}
\newrefformat{alg}{Algorithm~\ref{#1}}
\newrefformat{tab}{表\ref{#1}}
\newrefformat{eq}{式\ref{#1}}
\newrefformat{cha}{第\ref{#1}~章}
\newrefformat{app}{\appendixname\ref{#1}}

%argmaxとargminのコマンド
\newcommand{\argmax}{\mathop{\mathrm{arg~max~}}\limits}
\newcommand{\argmin}{\mathop{\mathrm{arg~min~}}\limits}

\begin{document}

%タイトル
\input{title.tex}

%目次
\setcounter{tocdepth}{2}
\tableofcontents
\addtocontents{toc}{~\hfill\textbf{Page}\par}
\listoffigures
\addtocontents{lof}{~\hfill\textbf{Page}\par}

%はじめに
\input{introduction.tex}

%背景：音楽
\input{explanation.tex}

%背景：ニューラルネットワーク
\input{background.tex}

%提案手法
\input{proposed_method.tex}

%まとめ
\input{conclusion.tex}

%謝辞
\input{thanks.tex}

%参考文献
\bibliographystyle{junsrt}
\bibliography{reference}

%付録
\input{appendix.tex}

\end{document}